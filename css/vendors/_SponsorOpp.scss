// main: ../main.scss

// ## FORKS - Equal Height Price Blocks w/Flexbox & Sass
// ## http://codepen.io/grayghostvisuals/pen/gGxfh

// ============================================================
// $Price Block Variables
// ============================================================

$viewport-increment: 0.1px;
$price-block-large: 1024px;
$collapsed-price-block: $price-block-large - $viewport-increment;
$price-btn-bg: $black-light;
$price-btn-color: lighten($price-btn-bg,40%);

$price-block-color: $black-light;
$priceBlock-Presenting: $gray-light;
$priceBlock-Premier: $gray-light;
$priceBlock-Legacy: $gray-light; // lighten($primary,10%);
$priceBlock-Champion: $gray-light; // lighten($primary,15%);
$priceBlock-Sustaining: $gray-light; // lighten($primary,20%);
$priceBlock-Supporting: $gray-light; // lighten($primary,25%);


// ============================================================
// $Container
// ============================================================

.price-block--wrapper {
  margin-bottom: 1rem;
  @media screen and (min-width: $price-block-large) {
    display: flex;
  }
}

// ============================================================
// $Price Block
// ============================================================

.price-block {
  margin: 0 .75rem;
  border-radius: 5px;
  @media (min-width:$collapsed-price-block) {
    &:first-child { margin-left: 0;}
    &:last-child { margin-right: 0;}
  }
  padding: 0;
  position: relative;
  font-family: $display;
  font-weight: 400;
  font-size: 1rem;
  color: $price-block-color;
  transition: 300ms ease-in-out;
  box-shadow: $z-depth-2;
    &:hover, &:focus { box-shadow: $z-depth-5; }

  & p, & ul, & li {
    font-family: $display;
  }

  & p {
    font-size: .8rem;
    margin-bottom: 1rem;
    padding: 0 1rem;
  }

  @media screen and (max-width: $collapsed-price-block) {
    position: relative;
  }

  &#sponsorPresenting {
    background: $priceBlock-Presenting;
    border-top: 1px solid lighten($priceBlock-Presenting,15%);
    border-bottom: 1px solid darken($priceBlock-Presenting,40%);
    @media screen and (min-width: $price-block-large) {
      flex: 1;
    }
  }

  &#sponsorPremier {
    background: $priceBlock-Premier;
    border-top: 1px solid lighten($priceBlock-Premier,15%);
    border-bottom: 1px solid darken($priceBlock-Premier,40%);
    @media screen and (min-width: $price-block-large) {
      flex: 1;
    }
  }

  &#sponsorLegacy {
    background: $priceBlock-Legacy;
    border-top: 1px solid lighten($priceBlock-Legacy,15%);
    border-bottom: 1px solid darken($priceBlock-Legacy,40%);
    @media screen and (min-width: $price-block-large) {
      flex: 1;
    }
  }

  &#sponsorChampion {
    background: $priceBlock-Champion;
    border-top: 1px solid lighten($priceBlock-Champion,15%);
    border-bottom: 1px solid darken($priceBlock-Champion,40%);
    @media screen and (min-width: $price-block-large) {
      flex: 1;
    }
  }

  &#sponsorSustaining {
    background: $priceBlock-Sustaining;
    border-top: 1px solid lighten($priceBlock-Sustaining,15%);
    border-bottom: 1px solid darken($priceBlock-Sustaining,40%);
    @media screen and (min-width: $price-block-large) {
      flex: 1;
    }
  }

  &#sponsorSupporting {
    background: $priceBlock-Supporting;
    border-top: 1px solid lighten($priceBlock-Supporting,15%);
    border-bottom: 1px solid darken($priceBlock-Supporting,40%);
    @media screen and (min-width: $price-block-large) {
      flex: 1;
    }
  }
}


// ============================================================
// $Price Block Header
// ============================================================

.price-block__header {
  padding: 0 1rem;
}

.price-block__title {
  margin-top: 0;
  margin-bottom: 1rem;
  padding: 1rem 0 0;
  font-family: $headings;
  font-size: 1.25em;
  font-weight: 700;
  line-height: 1;
  text-transform: uppercase;
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  align-items: flex-start;
  &:after {
    content: "Sponsor";
    font-size: 60%;
    font-family: $display;
    letter-spacing: 2px;
    position: relative;
    top: 1px;
  }
}

// TODO: fix price locations for responsive
.price-block__cost {
  font-family: $headings;
  font-size: 1.25rem;
  font-weight: normal;
  position: absolute;
  top: 9px;
  right: -14px;
  color: $white;
  background: $black-light;
  padding: .25rem .75rem;
  border-radius: 5px;
  border-top: 1px solid rgba(250,250,250,1);
  border-bottom: 1px solid rgba(0,0,0,1);
  transition: 300ms ease-in-out;

  & p {
    font-family: $bodyCopy;
    font-weight: bold;
    margin-bottom: 0;
    &:before {
      content: "$";
      position: relative;
      top: -8px;
      right: 1px;
      font-family: $display;
      font-size: 65%;
      opacity: .9;
    }
    &:after {
      content: "k";
      position: relative;
      left: 1px;
      font-size: 70%;
    }
  }
}

.price-block#sponsorPresenting {
  & .price-block__cost {
    padding: .25rem;
  }
}

.price-block {
  & .price-block__cost {
    box-shadow: $z-depth-2;
  }
  &:hover, &:focus {
    & .price-block__cost,
    & .price-block__cost {
      top: 5px;
      right: -18px;
      background: $accent-lightest;
      box-shadow: $z-depth-4;
    }
  }
}


// ============================================================
// $Price Block Button
// ============================================================

.price-block__btn {
  appearance: none;
  border: none;
  margin: 0.625rem 0 0.3125rem;
  width: 100%;
  background: $price-btn-bg;
  color: $price-btn-color;
  border-top: 1px solid lighten($price-btn-bg,35%);
  border-bottom: 1px solid darken($price-btn-bg,80%);
  transition: 300ms ease-in-out;
  display: none;
  &:hover {
    color: darken($price-btn-color, 25%);
    background: lighten($price-btn-bg, 50%);
    border-top: 1px solid lighten($price-btn-bg,75%);
    border-bottom: 1px solid darken($price-btn-bg,35%);
  }
}


// ============================================================
// $Price Block Info
// ============================================================

.price-block__info {
  padding: 0 0 .5rem;
  @media screen and (max-width: $collapsed-price-block) {
    height: 0;
    visibility: hidden;
  }

  &.opened {
    @media screen and (max-width: $collapsed-price-block) {
      height: auto;
      visibility: visible;
    }
  }
}


// ============================================================
// $Price Block List
// ============================================================
.price-block__perks {
  font-family: $display;
  font-size: .8rem;
  list-style-type: none;
  margin-bottom: 0;
  padding: .5rem 0 0;
  border-top: 1px dashed $white;

  & li {
    padding: .5rem 1rem;
    margin-bottom: .5rem;
    background: rgba(0,0,0,.35);
    &:nth-child(odd) { background: none; }
    &:last-child {
      margin-bottom: 0;
    }
  }
}


// ============================================================
// $Price Block Trigger
// ============================================================

.price-block__trigger {
  @media screen and (max-width: $collapsed-price-block) {
    position: absolute;
    top: 5px;
    right: 20px;
    font-size: 1.5625em;
    font-style: normal;

    &:hover {
      cursor: pointer;
    }
  }

  @media screen and (min-width: $price-block-large) {
    display: none;
  }
}
